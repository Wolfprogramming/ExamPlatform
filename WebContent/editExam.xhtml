<!DOCTYPE html>
<html lang="fr"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Edit exam</title>
    </h:head>
    <h:body>
    <f:facet name="last">
    	<h:outputStylesheet library="css" name="style.css" />
	</f:facet>
		<h:form>
    		<p:toolbar>
    			<p:toolbarGroup align="left">  
            		<p:commandButton value="Home" action="index" icon="ui-icon-home" 
            			actionListener="#{examListMB.clear}" />
        		</p:toolbarGroup>
   				
        		<p:toolbarGroup align="right">
            		
        		</p:toolbarGroup>
        	</p:toolbar>
		</h:form>
		<br/>
		
        <h:form prependId="false">
        	<p:panel id="panel">
        	<p:focus context="panel"/>
        	
        		<p:commandButton icon="ui-icon-close" action="#{examListMB.deleteExam}" 
        				styleClass="button-right" title="Delete exam">
			        <p:confirm header="Confirmation" message="Are you sure?" icon="ui-icon-alert" />
			        <f:setPropertyActionListener value="#{examListMB.selectedExam}" target="#{examListMB.selectedExam}" />
			    </p:commandButton>
			  
			    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
			        <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>
			        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>
			    </p:confirmDialog>
				
				<p:inputText id="name" value="#{examListMB.selectedExam.eName}" size="30" required="true" 
					requiredMessage="Exam must have a name." />
				<p:message for="name" />
				<br/>
				<p:inputTextarea id="desc" value="#{examListMB.selectedExam.eDesc}" cols="66" 
					placeholder="Exam description / instructions..." />
										
				<p:panelGrid style="width:100%">
					<p:row>
					    <p:column style="width:20%">
							Exam date
						</p:column>
						<p:column style="width:25%">
							<p:calendar value="#{examListMB.selectedExam.eDate}" id="date" pattern="yyyy-MM-dd" mindate="0"/>
						</p:column>
						<p:column style="width:5%"></p:column>
					</p:row>

					<p:row>
					    <p:column style="width:20%">
							Starting hour
						</p:column>
						<p:column style="width:25%">
							<p:calendar id="startHour" value="#{examListMB.selectedExam.eStartHour}" pattern="HH:mm" timeOnly="true"
								minHour="7" maxHour="21" stepMinute="5" />
						</p:column>
						 
						<p:column style="width:5%"></p:column>
						<p:column style="width:20%">
							Ending hour
						</p:column>
						<p:column style="width:25%">
							<p:calendar value="#{examListMB.selectedExam.eEndHour}" pattern="HH:mm" timeOnly="true"
								minHour="8" maxHour="22" stepMinute="5" />
						</p:column>
						<p:column style="width:5%"></p:column>
					</p:row>
				</p:panelGrid>
				
				
				<f:facet name="footer">
        			<p:commandButton value="Save modifications" update="panel" action="#{examListMB.editExam}" icon="ui-icon-disk" />
        		</f:facet>
				
			</p:panel>
		</h:form>
    </h:body>
</html>